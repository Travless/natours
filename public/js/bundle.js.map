{"mappings":";;;AAAA,kBAAkB,GAClB;ACDA,gBAAgB,GAChB,AAAO,MAAM,4CAAa,CAAC,WAAa;IACpC,SAAS,WAAW,GAAG;IAEvB,IAAI,MAAM,IAAI,SAAS,GAAG,CAAC;QAC3B,WAAW;QACX,OAAO;QACP,YAAY,KAAK;IACjB;IAEA,MAAM,SAAS,IAAI,SAAS,YAAY;IAExC,UAAU,OAAO,CAAC,CAAA,MAAO;QACrB,gBAAgB;QAChB,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,GAAG,SAAS,GAAG;QACf,aAAa;QACb,IAAI,SAAS,MAAM,CAAC;YAChB,SAAS;YACT,SAAS;QACb,GAAG,SAAS,CAAC,IAAI,WAAW,EAAE,KAAK,CAAC;QACpC,YAAY;QACZ,IAAI,SAAS,KAAK,CAAC;YACf,QAAQ;QACZ,GAAG,SAAS,CAAC,IAAI,WAAW,EAAE,OAAO,CAAC,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,EAAE,EAAE,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC;QACzF,oDAAoD;QACpD,OAAO,MAAM,CAAC,IAAI,WAAW;IACjC;IAEA,IAAI,SAAS,CAAC,QAAQ;QAClB,SAAS;YACL,KAAK;YACL,QAAQ;YACR,MAAM;YACN,OAAO;QACX;IACJ;AACJ;;;ACrCA,gBAAgB,GAChB,kCAAkC;AAClC,yCAAyC;AACzC;;AAGO,MAAM,4CAAQ,OAAO,OAAO,WAAa;IAC5C,IAAI;QACA,MAAM,MAAM,MAAM,CAAA,GAAA,kBAAI,EAAE;YACpB,QAAQ;YACR,KAAK;YACL,MAAM;uBACF;0BACA;YACJ;QACJ;QAEA,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAU;YAC9B,UAAU,WAAW;YACrB,OAAO,UAAU,CAAC,IAAM;gBACpB,SAAS,MAAM,CAAC;YACpB,GAAG;QACP,CAAC;IACL,EAAE,OAAO,KAAK;QACV,QAAQ,GAAG,CAAC;IACZ,iDAAiD;IACrD;AACJ,GAEA,yCAAyC;CACzC,YAAY;CACZ,oCAAoC;CACpC,6BAA6B;CAC7B,+DAA+D;CAC/D,cAAc;CACd,oEAAoE;CACpE,qBAAqB;CACrB,8DAA8D;CAC9D,QAAQ;CACR,IAAI;;;AFlCJ,eAAe;AACf,MAAM,+BAAS,SAAS,cAAc,CAAC;AACvC,MAAM,kCAAY,SAAS,aAAa,CAAC;AAEzC,aAAa;AACb,IAAG,8BAAO;IACN,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS,cAAc,CAAC,OAAO,OAAO,CAAC,SAAS;IAC7E,CAAA,GAAA,yCAAU,AAAD,EAAE;AACf,CAAC;AAED,IAAG,iCACC,SAAS,aAAa,CAAC,SAAS,gBAAgB,CAAC,UAAU,CAAA,IAAK;IAC5D,EAAE,cAAc;IAChB,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;IACpD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;IAC1D,CAAA,GAAA,yCAAK,AAAD,EAAE,OAAO;AACjB","sources":["public/js/index.js","public/js/mapbox.js","public/js/login.js"],"sourcesContent":["/* eslint-disable */\r\nimport '@babel/polyfill';\r\nimport { displayMap } from './mapbox';\r\nimport { login } from \"./login\";\r\n\r\n// DOM Elements\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form');\r\n\r\n// Delegation\r\nif(mapBox){\r\n    const locations = JSON.parse(document.getElementById('map').dataset.locations);\r\n    displayMap(locations);\r\n};\r\n\r\nif(loginForm){\r\n    document.querySelector('.form').addEventListener('submit', e => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        login(email, password);\r\n    })\r\n};\r\n","/*eslint-disable*/\nexport const displayMap = (location) => {\n    mapboxgl.accessToken = 'pk.eyJ1IjoidHJhdmxlc3MiLCJhIjoiY2xmdmN1aXF2MDV1cTNwczNyaGt1d2NjOSJ9.TZ3OiFZvnmJF2gCCvC2d6g';\n\n    let map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/travless/clfvf4vph00lm01mxevslngjv',\n    scrollZoom: false\n    });\n\n    const bounds = new mapboxgl.LngLatBounds();\n\n    locations.forEach(loc => {\n        // Create marker\n        const el = document.createElement('div');\n        el.className = 'marker';\n        // Add marker\n        new mapboxgl.Marker({\n            element: el,\n            ancchor: 'bottom'\n        }).setLngLat(loc.coordinates).addTo(map);\n        // Add popup\n        new mapboxgl.Popup({\n            offset: 30\n        }).setLngLat(loc.coordinates).setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`).addTo(map);\n        // Extend the map bounds to include current location\n        bounds.extend(loc.coordinates);\n    });\n\n    map.fitBounds(bounds, {\n        padding: {\n            top: 200,\n            bottom: 150,\n            left: 100,\n            right: 100\n        }\n    });\n};","/*eslint-disable*/\r\n// const axios = require('axios');\r\n// const showAlert = require('./alerts');\r\nimport { axios } from \"axios\";\r\nimport '@babel/polyfill';\r\n\r\nexport const login = async (email, password) => {\r\n    try {\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: 'http://127.0.0.1:3000/api/v1/users/login',\r\n            data: {\r\n                email,\r\n                password\r\n            }\r\n        });\r\n\r\n        if (res.data.status === 'success'){\r\n            showAlert('success', 'Logged in successfully!');\r\n            window.setTimeout(() => {\r\n                location.assign('/');\r\n            }, 1500);\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        // showAlert('error', err.response.data.message);\r\n    }\r\n};\r\n\r\n// export const loggedout = async () => {\r\n//     try {\r\n//         const res = await axios({\r\n//             method: 'GET',\r\n//             url: 'http://127.0.0.1:3000/api/v1/users/logout'\r\n//         });\r\n//         if (res.data.status === 'success') location.reload(true);\r\n//     } catch(err) {\r\n//         showAlert('error', 'Error logging out! Try again.')\r\n//     }\r\n// }"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}